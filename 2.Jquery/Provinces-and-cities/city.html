<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script type="text/javascript" src="js/jquery.js"></script>
	<script type="text/javascript" src="js/citys.js"></script>
</head>
<body>
	<select id="province">
		<option>请选择</option>
	</select>
	<select id="city">
		<option>请选择</option>
		
	</select>
	<select id="area">
		<option>请选择</option>
		
	</select>
	<script type="text/javascript">
	/**
	1.观察 重复执行部分
	 2.一个个拆分函数
	 3.拆分的函数 存同去异
	**/
	$(function(){
		//递归函数
		var provinceStr='';
		for(var i in citiesall){
			provinceStr +='<option>'+citiesall[i].name+'</option>';
		}
		$('#province').html(provinceStr).change(function(){
			var provinceName=$(this).val();
			for(var j in citiesall){
				//查找省份
				if(citiesall[j].name== provinceName){
					//找出city
					var cities=citiesall[j].city;
					var cityStr='';
					for(var n in cities){
						cityStr+='<option>'+cities[n].name+'</option>';
					}
					// $('#city').html(cityStr).change(function(){
						$('#city').html(cityStr);
						var cityName=$('#city').val();
						for(var m in cities){
							if(cities[m].name==cityName){
								var areas=cities[m].area;
								var areaStr='';
								for(var n in areas){
									areaStr+='<option>'+areas[n]+'</option>';
								}
								$('#area').html(areaStr);
							}
						}

					// });	
				}
			}
		});
		$('#city').change(function(){
			for(var x in citiesall){
				var citys=city=citiesall[x].city;
				var areaName=$(this).val();
				for(var y in citys){
					if(citys[y].name==areaName){
						var areas=citys[y].area;
						var areaStr='';
						for(var z in areas){
							areaStr+=' <option>'+areas[z]+'</option>';
						}
						$('#area').html(areaStr);
					}
				}
			}
		})


	});
	</script>
</body>
</html>